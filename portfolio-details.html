<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>ArqivaPos PDAM</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/css/profilarqivapos.jpg" rel="icon">
  <link href="assets/css/profilarqivapos.jpg" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: eBusiness
  * Template URL: https://bootstrapmade.com/ebusiness-bootstrap-corporate-template/
  * Updated: Jun 23 2025 with Bootstrap v5.3.6
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="service-details-page">

  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="index.html" class="logo d-flex align-items-center me-auto">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="assets/img/logo.webp" alt=""> -->
        <img src="assets/css/profilarqivapos.jpg" alt="Logo" width="40" height="60">
        <h1 class="sitename"><span>ARQIVA</span>POS</h1>
      </a>
      <a class="btn-getstarted" href="index.html#about">Kembali</a>
    </div>
  </header>
  <!-- End Header -->

  <!-- ======= PDAM List HTML ======= -->

  <head>
    <meta charset="utf-8" />
    <title>ARQIVA POS H2H - Daftar PDAM Seluruh Indonesia</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      .header.d-flex.align-items-center.sticky-top {
        background: #fdfeff;
      }

      :root {
        --primary: #3652ad;
        --accent: #ff6600;
        --bg: #f5f7fa;
        --card: #ffffff;
        --muted: #666;
      }

      * {
        box-sizing: border-box
      }

      body {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
        margin: 0;
        background: var(--bg);
        color: #222;
      }

      header {
        background: linear-gradient(90deg, var(--primary), #0b74c6);
        color: white;
        padding: 24px 16px;
        text-align: center;
      }

      header h1 {
        margin: 0;
        font-size: 1.5rem
      }

      header p {
        margin: 6px 0 0;
        color: rgba(255, 255, 255, 0.9)
      }

      main {
        max-width: 1100px;
        margin: 18px auto;
        padding: 12px
      }

      .card {
        background: var(--card);
        border-radius: 10px;
        padding: 16px;
        margin-bottom: 14px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06)
      }

      .intro p {
        margin: 0 0 8px
      }

      .controls {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 10px
      }

      .controls input[type="search"],
      .controls select {
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ddd;
        min-width: 200px;
        flex: 1;
      }

      .controls button {
        background: var(--primary);
        color: #fff;
        border: none;
        padding: 10px 14px;
        border-radius: 8px;
        cursor: pointer;
      }

      .controls button.secondary {
        background: #444
      }

      .list-wrap {
        display: flex;
        gap: 16px
      }

      .pdam-list {
        width: 100%;
        max-height: 520px;
        overflow: auto;
        border-radius: 8px;
        padding: 8px;
        border: 1px solid #e6e6e6;
        background: #fff;
      }

      .pdam-item {
        padding: 10px;
        border-bottom: 1px solid #f0f0f0;
        display: flex;
        justify-content: space-between;
        gap: 8px;
        align-items: flex-start
      }

      .pdam-item:last-child {
        border-bottom: 0
      }

      .pdam-meta {
        color: var(--muted);
        font-size: 0.92rem
      }

      .pdam-left {
        max-width: 76%
      }

      .pdam-name {
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 4px
      }

      .badge {
        background: #eef6ff;
        color: var(--primary);
        padding: 6px 8px;
        border-radius: 8px;
        font-size: 0.85rem
      }

      .action-links a {
        display: inline-block;
        margin-left: 8px;
        text-decoration: none;
        color: var(--primary);
        font-weight: 600
      }

      .prov-list {
        min-width: 250px;
        max-height: 520px;
        overflow: auto;
        padding: 8px;
        border-radius: 8px;
        border: 1px solid #e6e6e6;
        background: #fff
      }

      .prov-list h4 {
        margin: 6px 0 10px
      }

      .prov-item {
        padding: 6px 8px;
        border-radius: 6px;
        margin-bottom: 6px;
        cursor: pointer
      }

      .prov-item:hover {
        background: #f6f9ff
      }

      .empty {
        padding: 30px;
        text-align: center;
        color: var(--muted)
      }

      footer {
        padding: 18px;
        text-align: center;
        color: #666;
        font-size: 0.9rem
      }

      .legend {
        font-size: 0.9rem;
        color: var(--muted);
        margin-top: 8px
      }

      @media (max-width:880px) {
        .list-wrap {
          flex-direction: column
        }

        .prov-list {
          min-width: auto
        }
      }
    </style>
  </head>

  <body>
    <header>
      <h1>ARQIVA POS H2H</h1>
      <p>Daftar PDAM seluruh Indonesia — Cari, filter per provinsi, & buka kontak cepat</p>
    </header>

    <main>
      <section class="card intro">
        <h2>Daftar Layanan PDAM (Seluruh Daerah)</h2>
        <p>Halaman ini menampilkan daftar PDAM yang bisa dipakai sebagai menu layanan ARQIVA POS H2H. Sistem H2H
          memastikan data tagihan terverifikasi langsung oleh server PDAM.</p>
        <div class="legend">Petunjuk: Ketik nama kota/PDAM di kotak cari — klik nama PDAM untuk melihat detail dan
          tombol kontak jika tersedia.</div>
      </section>

      <section class="card">
        <div class="controls">
          <input id="searchInput" type="search" placeholder="Cari PDAM atau kota (mis. Semarang, Tirta ...)" />
          <select id="provSelect">
            <option value="">Semua Provinsi</option>
          </select>
          <button id="clearBtn" class="secondary">Reset</button>
          <button id="exportBtn">Export JSON</button>
        </div>
      </section>

      <section class="card list-wrap">
        <aside class="prov-list" id="provList">
          <h4>Provinsi</h4>
          <!-- daftar provinsi akan muncul di sini -->
        </aside>

        <div class="pdam-list" id="pdamList">
          <!-- daftar PDAM akan dirender di sini -->
        </div>
      </section>

      <section class="card">
        <h3>Catatan teknis & sumber data</h3>
        <ul>
          <li>Daftar lengkap PDAM dapat diperoleh dari sumber resmi/perpamsi (anggota PDAM), agregator pembayaran
            (contoh: MAXsi, Rajabiller), dan direktori pemerintah (BPS). Saya menyarankan sinkronisasi data dari
            <strong>PERPAMSI</strong> atau <strong>Direktori BPS 2024</strong> untuk keakuratan alamat & kontak.
          </li>
          <li>Sumber referensi yang berguna: PERPAMSI (anggota/daftar PDAM), MAXsi (list 231 kota), PDAMInfo (daftar
            PDAM), dan publikasi BPS (Direktori Perusahaan Air Bersih 2024). (Sumber: perpamsi.or.id; maxsi.id;
            pdampintar/pdaminfo; bps.go.id).</li>
        </ul>
      </section>
    </main>

    <footer>
      &copy; <span id="year"></span> ARQIVA POS H2H — dibuat otomatis. Sumber data: PERPAMSI / MAXsi / PDAMInfo / BPS.
    </footer>

    <script>
      // ============ SAMPLE DATA ============
      // Contoh: ganti / perluas variabel ini dengan seluruh daftar PDAM (format JSON)
      // Jika punya file pdam_all.json, kamu bisa menaruh isinya di sini menggantikan contoh di bawah.
      const pdamData = [
        // contoh entri (format standard)
        { provinsi: "DI Yogyakarta", kabkota: "Kab. Bantul", nama: "PDAM Tirta Arjuna Bantul", alamat: "Jl. Contoh No.1", telp: "(0274) 123456", website: "", email: "", kode: "DIY-BANTUL-001" },
        { provinsi: "DI Yogyakarta", kabkota: "Kota Yogyakarta", nama: "PDAM Tirta Marta", alamat: "Jl. Malioboro 10", telp: "(0274) 987654", website: "", email: "", kode: "DIY-YOGYA-001" },
        { provinsi: "Jawa Tengah", kabkota: "Kota Semarang", nama: "PDAM Tirta Moedal", alamat: "Jl. Pemuda 5", telp: "(024) 123456", website: "", email: "", kode: "JTG-SEMARANG-001" },
        { provinsi: "Jawa Tengah", kabkota: "Kota Surakarta", nama: "PDAM Toya Wening", alamat: "Jl. Slamet Riyadi 2", telp: "(0271) 333444", website: "", email: "", kode: "JTG-SOLO-001" },
        { provinsi: "Jawa Barat", kabkota: "Kota Bandung", nama: "PDAM Tirtawening", alamat: "Jl. Asia Afrika 1", telp: "(022) 111222", website: "", email: "", kode: "JWB-BDG-001" },
        { provinsi: "Jawa Timur", kabkota: "Kota Surabaya", nama: "PDAM Surya Sembada", alamat: "Jl. Basuki Rahmat 9", telp: "(031) 555666", website: "", email: "", kode: "JTM-SBY-001" }
        // ... tambahkan semua PDAM di sini (format: provinsi, kabkota, nama, alamat, telp, website, email, kode)
      ];

      // ============ END SAMPLE DATA ============

      // helper: unique provinsi
      const provSet = new Set(pdamData.map(x => x.provinsi).filter(Boolean));
      const provSelect = document.getElementById('provSelect');
      const provList = document.getElementById('provList');
      const pdamList = document.getElementById('pdamList');
      const searchInput = document.getElementById('searchInput');
      const clearBtn = document.getElementById('clearBtn');
      const exportBtn = document.getElementById('exportBtn');

      // populate provinsi dropdown + left list
      function populateProvinsi() {
        // dropdown
        provSet.forEach(p => {
          const opt = document.createElement('option');
          opt.value = p;
          opt.textContent = p;
          provSelect.appendChild(opt);
        });
        // left list
        provSet.forEach(p => {
          const div = document.createElement('div');
          div.className = 'prov-item';
          div.textContent = p;
          div.onclick = () => { provSelect.value = p; renderList(); window.scrollTo({ top: 0, behavior: 'smooth' }); };
          provList.appendChild(div);
        });
      }

      // render list berdasarkan filter
      function renderList() {
        const q = (searchInput.value || '').trim().toLowerCase();
        const provFilter = provSelect.value;
        pdamList.innerHTML = '';
        let filtered = pdamData.filter(item => {
          const hay = (item.nama + ' ' + item.kabkota + ' ' + (item.alamat || '')).toLowerCase();
          if (provFilter && item.provinsi !== provFilter) return false;
          if (q && !hay.includes(q)) return false;
          return true;
        });

        if (filtered.length === 0) {
          pdamList.innerHTML = '<div class="empty">Tidak ada PDAM yang sesuai. Coba kata kunci lain atau pilih provinsi lain.</div>';
          return;
        }

        filtered.forEach(item => {
          const el = document.createElement('div');
          el.className = 'pdam-item';

          const left = document.createElement('div');
          left.className = 'pdam-left';
          left.innerHTML = `<div class="pdam-name">${escapeHtml(item.nama)} <span class="pdam-meta">— ${escapeHtml(item.kabkota)}</span></div>
                          <div class="pdam-meta">${escapeHtml(item.alamat || '')} ${item.telp ? '• Tel: ' + escapeHtml(item.telp) : ''}</div>`;

          const right = document.createElement('div');
          right.className = 'action-links';
          let rightHtml = `<div class="badge">${escapeHtml(item.provinsi)}</div>`;
          if (item.website) rightHtml += `<a href="${encodeURI(item.website)}" target="_blank">Website</a>`;
          if (item.email) rightHtml += `<a href="mailto:${encodeURIComponent(item.email)}">Email</a>`;
          if (item.telp) {
            // tombol WA cepat (nomor harus format internasional tanpa tanda +, contoh: 62822...)
            const telDigits = item.telp.replace(/[^0-9]/g, '');
            if (telDigits.length >= 9) rightHtml += `<a href="https://wa.me/${telDigits}" target="_blank">WhatsApp</a>`;
          }
          right.innerHTML = rightHtml;

          el.appendChild(left);
          el.appendChild(right);
          pdamList.appendChild(el);
        });
      }

      // escape helper
      function escapeHtml(s) { return (s === undefined || s === null) ? '' : String(s).replace(/[&<>"']/g, function (m) { return { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }[m]; }); }

      // clear filters
      clearBtn.onclick = () => { searchInput.value = ''; provSelect.value = ''; renderList(); };

      // export current filtered list as JSON (download)
      exportBtn.onclick = () => {
        const q = (searchInput.value || '').trim().toLowerCase();
        const provFilter = provSelect.value;
        const filtered = pdamData.filter(item => {
          const hay = (item.nama + ' ' + item.kabkota + ' ' + (item.alamat || '')).toLowerCase();
          if (provFilter && item.provinsi !== provFilter) return false;
          if (q && !hay.includes(q)) return false;
          return true;
        });
        const blob = new Blob([JSON.stringify(filtered, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'pdam_export.json';
        a.click();
        URL.revokeObjectURL(url);
      };

      // init
      (function init() {
        // set year
        document.getElementById('year').textContent = new Date().getFullYear();
        // populate provSet might be empty if sample data has empty provinsi; ensure set is built after sample data
        if (pdamData.length > 0) {
          // rebuild provSet based on pdamData (in case sample data changed)
          Array.from(new Set(pdamData.map(x => x.provinsi).filter(Boolean))).forEach(p => provSet.add(p));
        }
        populateProvinsi();
        renderList();

        // live search
        let t;
        searchInput.addEventListener('input', () => { clearTimeout(t); t = setTimeout(renderList, 220); });
        provSelect.addEventListener('change', renderList);
      })();
    </script>
  </body>

</html>